<!DOCTYPE html>
<html>
  <head>
    <title>Rust+Wasm+WebGL | Fahien</title>
    <meta charset="utf-8">

    <meta name="author" content="Antonio Caggiano" />
    <meta name="description" content="Create interesting interactive 3D content for the web" />

    <meta property="og:title" content="Rust+Wasm+WebGL" />
    <meta property="og:description" content="Create interesting interactive 3D content for the web" />
    <meta property="og:image" content="https://www.antoniocaggiano.eu/static/images/rww.png" />
    <meta property="og:url" content="https://www.antoniocaggiano.eu/rust-webgl-demo/" />

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="Antonio Caggiano" />
    <meta name="twitter:creator" content="@Fahien" />

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="57x57" href="https://www.antoniocaggiano.eu/static/icons/apple-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="https://www.antoniocaggiano.eu/static/icons/apple-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="https://www.antoniocaggiano.eu/static/icons/apple-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="https://www.antoniocaggiano.eu/static/icons/apple-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="https://www.antoniocaggiano.eu/static/icons/apple-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="https://www.antoniocaggiano.eu/static/icons/apple-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="https://www.antoniocaggiano.eu/static/icons/apple-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="https://www.antoniocaggiano.eu/static/icons/apple-icon-152x152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="https://www.antoniocaggiano.eu/static/icons/apple-icon-180x180.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="https://www.antoniocaggiano.eu/static/icons/android-icon-192x192.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="https://www.antoniocaggiano.eu/static/icons/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="96x96" href="https://www.antoniocaggiano.eu/static/icons/favicon-96x96.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="https://www.antoniocaggiano.eu/static/icons/favicon-16x16.png" />
    <link rel="manifest" href="https://www.antoniocaggiano.eu/static/icons/manifest.json" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="msapplication-TileImage" content="https://www.antoniocaggiano.eu/static/icons/ms-icon-144x144.png" />

    <style>
      @import url(https://fonts.googleapis.com/css?family=Karla);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Karla'; }
      h1, h2, h3 {
        font-family: 'Karla';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
      code { background-color: #ddd; }
      .remark-slide-content {
          font-size: 24px;
      }
      #area {
        display: block;
        margin: auto;
        width: 100%;
        height: 400px;
      }
      #teaser {
        display: block;
        margin: auto;
        height: 200px;
      }
    </style>
  </head>
  <body>
    <textarea id="source">

class: center, middle

# Rust+Wasm+WebGL

Create interesting interactive 3D content for the web

<canvas id="teaser"></canvas>

Antonio Caggiano

Collabora Ltd.


---

# Setup

- https://rustwasm.github.io/docs/book/game-of-life/setup.html
- rustup, rustc, cargo
- wasm-pack
- cargo-generate
- npm

---

# Project

1. `cargo generate â€“git https://github.com/rustwasm/wasm-pack-template`
2. `npm init wasm-app wasm-pack-template/www`
3. `cd wasm-pack-template && wasm-pack build`
4. `cd www && npm install && npm run start`

---

# HTML + JavaScript + WebGL

- `<canvas>` as drawing area
- `index.js` responsible for calling `requestAnimationFrame(callback)`
- ```
  #[wasm_bindgen]
  pub fn hello_from_rust() {
      alert("Hello from Rust!");
  }
  ```
- WebGL context can be created in Rust

---

# web_sys

- https://rustwasm.github.io/docs/wasm-bindgen/web-sys/index.html
- Access to document, window, Web APIs
- Heavy use of features for faster build times
- Rust-analyzer unfriendly
- Web function overloads means multiple Rust functions
- Some Web functions expect JS values

---

# Demo

https://github.com/fahien/rust-webgl-demo

<button id="start">Start</button>
<canvas id="area">click here</canvas>

---

# References

- https://github.com/lykhouzov/rust-wasm-webgl
- https://rustwasm.github.io/docs/book/
- https://rustwasm.github.io/docs/wasm-bindgen/introduction.html

    </textarea>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
    <script src="./bootstrap.js"></script>
  </body>
</html>
